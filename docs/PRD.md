# Identity-Shift Engine (ISE) MVP PRD
> 最终版 - 基于 Dan Koe "1 Day Protocol" 方法论(原文https://x.com/thedankoe/status/2010751592346030461)

---

## 1. 产品定义

### 1.1 核心价值主张
ISE 是一款基于 AI 态势感知的身份重构工具。它通过 AI 的强制审计，将长期愿景转化为不可妥协的每日协议。

**核心理论基础（Dan Koe）**：
- 改变身份而非仅改变行为
- 你得到的不是你追求的，而是你耐受的
- 长期计划是幻想，只有今天的 24 小时是现实

### 1.2 MVP 目标
在 **1 周内** 交付可用原型，验证核心假设：
> 用户愿意每天花时间和 AI 进行"身份审计"，而不是简单打卡

---

## 2. 游戏化任务框架

### 2.1 任务层级结构

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 游戏化任务层级                                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Vision (愿景)        = 如何获胜                             │
│       │                                                     │
│       ▼                                                     │
│  Anti-Vision (反愿景)  = 赌注/失败后果                        │
│       │                                                     │
│       ▼                                                     │
│  1-Year Goal (年度目标) = 主线任务 Mission                    │
│       │                                                     │
│       ▼                                                     │
│  1-Month Project (月度项目) = Boss 战                        │
│       │                                                     │
│       ▼                                                     │
│  Daily Levers (每日杠杆) = 日常任务 Quest                     │
│       │                                                     │
│       ▼                                                     │
│  Constraints (约束)    = 游戏规则                            │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 层级说明

| 层级 | 游戏类比 | 示例 |
|------|----------|------|
| Vision | 游戏终极目标 | 成为能独立交付产品的技术创作者 |
| Anti-Vision | 失败结局 | 35岁还在为别人打工，没有自己的作品 |
| 1-Year Goal | 主线任务 | 完成第一个 SaaS 产品上线 |
| 1-Month Project | Boss 战 | 完成用户认证模块开发 |
| Daily Levers | 日常 Quest | 今日完成登录逻辑 |
| Constraints | 游戏规则 | 每天 2 小时深度工作，11 点前睡觉 |

---

## 3. 用户体验原则

### 3.1 渐进式信息收集（核心原则）

**❌ 禁止做法**：
- 一开始让用户填写大量表单
- 要求用户回答开放式长文本问题
- 强制完成所有设置才能使用

**✅ 正确做法**：
- AI 主动引导，用户只做选择
- 对话式交互，每次只问一个问题
- 允许跳过，后续对话中自然补充
- 提供预设选项 + "其他"自定义

### 3.2 引导交互示例

```
AI: 欢迎来到 ISE。我想了解你想成为什么样的人。
    下面哪个最接近你的目标身份？
    
    [🚀 创业者/CEO]  [💻 技术专家]  [🎨 创作者]
    [📈 投资人]      [🎯 自定义...]

用户: [点击 💻 技术专家]

AI: 很好。技术专家最常见的挑战是什么？
    
    [技术深度不够]  [缺乏系统性学习]  [工作占用太多时间]
    [精力分散]      [其他...]

用户: [点击 缺乏系统性学习]

AI: 明白了。如果学习持续停滞 6 个月，你最担心什么？
    
    [被行业淘汰]  [晋升机会流失]  [自我价值感下降]
    [收入增长停滞]  [其他...]
```

**原则**：每一步都让用户"点一下"就能前进，而不是"想一下再写"。

---

## 4. 核心功能模块

### 4.1 Onboarding（首次启动）

**目标**：通过 3-5 轮对话完成身份锚定

**收集信息**：

| 信息项 | 收集方式 | 必填 |
|--------|----------|------|
| Identity Target | 预设选项 + 自定义 | ✅ |
| Anti-Vision | AI 引导式追问（基于选择推断） | ✅ |
| Vision | 基于 Identity 自动生成 + 用户确认 | ✅ |
| Constraints | 预设常见约束 + 自定义 | ⚪ 可跳过 |

---

### 4.2 Dashboard（指挥中心）

**设计原则**：让用户在 3 秒内回答三个问题：
1. 我是谁？（身份）
2. 我现在怎么样？（势能状态）
3. 我今天该做什么？（AI 推荐）

**7 个模块布局**：

```
┌─────────────────────────────────────────────────────────┐
│  [Identity Header] - 顶部常驻：目标身份 + 天数计数       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────┐  ┌─────────────────────────────┐  │
│  │ 今日唯一焦点     │  │  蓝图与现状对照              │  │
│  │ (最高优先级)     │  │  Vision | Anti-Vision       │  │
│  │ ████████████    │  │  Constraints | 当日Non-neg   │  │
│  └─────────────────┘  └─────────────────────────────┘  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  Momentum Matrix（任务卡片阵列）                  │   │
│  │  [🟢 Task 1]  [🟡 Task 2]  [🔴 Task 3]          │   │
│  │  势能状态 + 上次质变日期 + Friction Points       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌───────────────┐  ┌───────────────────────────────┐  │
│  │ 进度概览       │  │  偏离提醒                     │  │
│  │ ✅ 2 🟡 1 🔴 1 │  │  ⚠️ 当前行动与Vision不一致    │  │
│  └───────────────┘  └───────────────────────────────┘  │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  [The Auditor Console] - 置底对话框，AI 主动发起对话    │
└─────────────────────────────────────────────────────────┘
```

**视觉设计要求**：
- 明快简洁的浅色主题，干净清爽
- 势能状态用颜色直观表达（🟢绿/🟡黄/🔴红）
- 今日焦点模块视觉权重最高（teal 边框强调）
- 卡片 hover 有微动效（200-300ms 过渡）

---

### 4.3 势能评估（Momentum Assessment）

**MVP 采用定性判断，不做数值计算**：

| 状态 | 颜色 | 判定标准 |
|------|------|----------|
| 🟢 进展中 | 绿色 | 最近 3 天有实质性更新，进度有向上波动 |
| 🟡 停滞 | 黄色 | 3-7 天无更新，或更新内容重复无突破 |
| 🔴 危险 | 红色 | 7 天以上无更新，或关键指标长期原地踏步 |

**AI 定性判断逻辑**：
- 读取任务的 `history` 数组
- 分析最近更新的时间间隔和内容质量
- 输出颜色状态 + 简短理由

---

### 4.4 每日闭环（AM/PM 双点）

| 时段 | 触发方式 | AI 行为 |
|------|----------|---------|
| **AM (Align)** | 用户主动打开 / 定时提醒 | 读取所有任务，对比势能，生成 Non-negotiable |
| **PM (Audit)** | 用户主动触发 | 对比历史数据，围绕 Vision & Constraints 给出反馈 |

**AM 对话示例**：
```
AI: 早上好。作为 [独立开发者]，你今天必须完成的一件事是什么？

    基于你的 Vision 和当前项目进度，我建议的 Non-negotiable 是：
    [完成用户认证模块开发] 
    
    [接受建议]  [我有其他想法]  [先看看任务状态]
```

**PM 对话示例**：
```
AI: 今天结束了。你完成 [用户认证模块开发] 了吗？

用户: 完成了一半

AI: 一半意味着什么？具体到哪里了？

用户: 登录逻辑写完了，注册流程还没开始

AI: 明白。我注意到过去 5 天，你的产品开发任务一直处于 🟡 停滞状态。
    
    如果你是一个正在冲刺产品上线的独立开发者，
    你会允许自己连续 5 天在核心任务上只完成一半吗？
    
    [记录今日进展]  [调整明日计划]  [我需要聊聊]
```

---

### 4.5 Governor Protocol（智能贪心管控）

**触发条件**：用户尝试添加新目标时

**判定逻辑**：
```
IF 🔴红色任务 >= 2 OR 最近3天执行率 < 50%:
    拒绝新任务
    给出基于 Dan Koe 思想的拒绝理由
ELSE:
    允许添加，但警告精力分散风险
```

**拒绝对话示例**：
```
用户: [点击 Add New Goal]

AI: 我无法让你添加新目标。

    原因：你当前有 2 个任务处于 🔴 危险状态。
    
    Dan Koe 说过：你得到的不是你追求的，而是你耐受的。
    如果你耐受现有任务的停滞，新目标只会让情况更糟。
    
    [查看停滞任务]  [关闭一个现有目标]  [我理解了]
```

---

### 4.6 任务详情模态框

| 信息项 | 呈现方式 |
|--------|----------|
| 势能状态 | 颜色标识（🟢🟡🔴）|
| 上次质变日期 | 文本 |
| Friction Points | AI 识别的阻力点列表 |
| 与 Vision 映射 | 文本说明当前偏离点 |

---

## 5. 技术规范

### 5.1 技术栈
- **Framework**: Next.js 14 (App Router) + Tailwind CSS + Lucide Icons
- **Deployment**: Vercel
- **AI SDK**: Vercel AI SDK (Claude / GPT-4)
- **持久化**: Vercel KV（主）+ localStorage（备份）

### 5.2 数据结构

**identity.json**
```json
{
  "target": "独立开发者",
  "vision": "成为能独立交付完整产品并实现被动收入的技术创作者",
  "antiVision": "35 岁还在为别人打工，没有自己的作品和收入来源",
  "constraints": ["每天必须有 2 小时深度工作", "晚上 11 点前必须睡觉"],
  "createdAt": "2026-01-25",
  "dayCount": 1
}
```

**task_[id].json**
```json
{
  "id": "task_001",
  "name": "完成 SaaS 产品 MVP",
  "level": "month_project",
  "parentId": "goal_001",
  "status": "active",
  "momentum": "yellow",
  "lastBreakthrough": "2026-01-20",
  "frictionPoints": ["技术选型犹豫", "功能范围不清晰"],
  "history": [
    {"date": "2026-01-24", "action": "完成数据库设计"},
    {"date": "2026-01-25", "action": "登录模块写完一半"}
  ]
}
```

---

## 6. MVP 验收标准

### 6.1 必须通过

| # | 验收项 | 判定标准 |
|---|--------|----------|
| 1 | **Onboarding 可走通** | 新用户通过 3-5 轮选择题完成 Identity/Vision/Anti-Vision 设置 |
| 2 | **PM 审计有锚点** | AI 反馈只围绕 Vision 和 Constraints，不出现泛化鸡汤 |
| 3 | **Governor 有效** | 存在 2+ 红色任务时拒绝新增目标并给出理由 |
| 4 | **数据持久化** | 刷新页面后所有状态正确恢复 |
| 5 | **Dashboard 美观** | 首屏加载 < 2s，视觉层次清晰，颜色反馈直观 |

### 6.2 明确不做（V1+）

- 自动化日间打断与多次提醒
- 完整游戏化机制（XP、成就等）
- 势能曲线图表
- 多用户/账号系统
- Day Check-in 中途校准

---

## 7. 开发里程碑

| Day | 交付物 |
|-----|--------|
| D1 | 项目脚手架 + Vercel KV 连通 + 基础数据结构 |
| D2 | Onboarding 对话流（选择题式） |
| D3 | Dashboard UI（7 模块布局） |
| D4 | AM/PM 对话逻辑 + 势能评估 |
| D5 | Governor Protocol + 任务详情模态框 |
| D6 | 视觉打磨 + Bug 修复 |
| D7 | Vercel 部署 + 冒烟测试 |

---

## 8. 附录

### 8.1 AI System Prompt 核心指令

```
你是 ISE 的 AI 审计员。你的职责是：

1. 身份锚定：始终将用户的 Identity Target 作为对话锚点
2. 反耐受：识别用户的"假努力"和停滞，直接指出
3. 选择优先：尽量给用户选择题而非开放题
4. Vision 聚焦：PM 审计只围绕 Vision 和 Constraints 反馈
5. 拒绝鸡汤：不说"你已经很努力了"这类话

底层哲学（Dan Koe）：
- 你得到的不是你追求的，而是你耐受的
- 不要问"我能做多少任务"，要问"这种人会怎么做"
- 长期计划是幻想，只有今天的 24 小时是现实
```

### 8.2 心理挖掘问题库（AI 后续对话可调用）

以下问题 **不在 Onboarding 强制询问**，而是在后续 AM/PM 对话中自然引出：

**痛点觉察类**：
1. 你现在的生活里，哪件事最让你感到麻木？
2. 过去一年你反复抱怨但从未真正改变的是什么？
3. 如果一个完全不认识你的人观察你的行为，他会认为你真正想要的是什么？

**反愿景构建类**：
1. 如果五年后完全没有变化，你会失去什么？
2. 你身边有谁已经在过着你害怕的那种未来？
3. 在生命的尽头，你过了「安全版」的人生，代价是什么？

**愿景激发类**：
1. 你最羡慕的人拥有什么？
2. 如果 3 年后你可以过上完全不同的生活，一个普通的周二会是什么样子？
3. 你需要相信自己是什么样的人，才能让那种生活变得自然而非勉强？

---

*文档版本: v3.0 FINAL | 更新日期: 2026-01-25*
*基于: Dan Koe "How to fix your entire life in 1 day" 方法论*
